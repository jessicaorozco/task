<div class="d-flex flex-column w-100 h-100">
  <div class="headerContent">
    <button  (click)="createTask()" ><i class="bi bi-plus-circle"></i></button>
    <button  (click)="deleteTask()" [disabled]="selected.length === 0"
           ><i class="bi bi-trash"></i></button>
  </div>
  <div class="w-100 h-100 p-5">
    <h4 class="headerTitle">Task</h4>
    <hr class="hrTitle">
    <div class="h-100" >
      <table class="table table-striped" #dt [value]="datas" selectionMode="multiple" [(ngModel)]="selected">
        <caption>
          <div class="d-flex justify-content-end pe-5">
            <span class="input-group-append">
              <i class="pi pi-search"></i>
              <input type="text" class="form-control" [(ngModel)]="searchText" (keyup)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Search keyword">
            </span>
          </div>
        </caption>
        <thead>
          <tr>
            <th scope="col">
              <input type="checkbox" [(ngModel)]="selectAll" (change)="dt.selectAll($event)">
            </th>
            <th scope="col">Id <p-sortIcon field="callReason"></p-sortIcon></th>
            <th scope="col">Nombre de la Tarea</th>
            <th scope="col">Descripción de la Tarea</th>
            <th scope="col">Fecha Límite</th>
            <th scope="col">Prioridad</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of datas; let rowIndex = index" [ngClass]="{'table-active': selected.indexOf(data) > -1}">
            <td>
              <button type="button" class="btn btn-sm btn-light" (click)="updateTask(data.id)">
                <i class="pi pi-pencil"></i>
              </button>
            </td>
            <td>{{ data.id }}</td>
            <td>{{ data.title }}</td>
            <td>{{ data.description }}</td>
            <td>{{ data.dateLimit }}</td>
            <td>{{ data.priority }}</td>
          </tr>
          <tr *ngIf="dt.isEmpty()">
            <td colspan="7">No tasks found</td>
          </tr>
        </tbody>
      </table>
         
    
    </div>
    <div class="h-100 d-flex justify-content-center align-items-center" >
      <div>
        <h6>There are no registered task</h6>
      </div>
    </div>
  </div>
</div>
